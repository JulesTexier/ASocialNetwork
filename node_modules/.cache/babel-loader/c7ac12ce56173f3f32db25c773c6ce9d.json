{"ast":null,"code":"import { fetchRequest, fetchFailure, fetchSuccess } from 'reduxx/Register/RegisterActions';\nimport Cookies from 'js-cookie';\n\nconst fetchNews = (data, url) => {\n  return dispatch => {\n    dispatch(fetchRequest(true));\n    fetch(url, {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(response => response.json()).then(response => {\n      if (response.status === \"error\") {\n        dispatch(fetchFailure(response.message, false));\n      } else {\n        dispatch(fetchSuccess(response, false));\n        console.log(response);\n        Cookies.set('token', response.jwt);\n        Cookies.set('id', response.user.id);\n      }\n    });\n  };\n};\n\nexport default fetchNews;","map":{"version":3,"sources":["/Users/julestexier/Google_Drive/PRO/THP_NEXT/Semaine 7 - React avancé (suite)/Jour 2 - Projet Réseau social/projet_reseau copie/src/components/Api/index.jsx"],"names":["fetchRequest","fetchFailure","fetchSuccess","Cookies","fetchNews","data","url","dispatch","fetch","method","headers","body","JSON","stringify","then","response","json","status","message","console","log","set","jwt","user","id"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,YAAvB,EAAqCC,YAArC,QAAyD,iCAAzD;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,SAAS,GAAG,CAACC,IAAD,EAAOC,GAAP,KAAe;AAE/B,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACP,YAAY,CAAC,IAAD,CAAb,CAAR;AAEAQ,IAAAA,KAAK,CACHF,GADG,EACG;AACJG,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFL;AAKJC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;AALF,KADH,CAAL,CASGS,IATH,CASSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EATtB,EAUGF,IAVH,CAUSC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACE,MAAT,KAAoB,OAAxB,EAAiC;AAC/BV,QAAAA,QAAQ,CAACN,YAAY,CAACc,QAAQ,CAACG,OAAV,EAAmB,KAAnB,CAAb,CAAR;AACD,OAFD,MAEO;AACLX,QAAAA,QAAQ,CAACL,YAAY,CAACa,QAAD,EAAW,KAAX,CAAb,CAAR;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACAZ,QAAAA,OAAO,CAACkB,GAAR,CAAY,OAAZ,EAAqBN,QAAQ,CAACO,GAA9B;AACAnB,QAAAA,OAAO,CAACkB,GAAR,CAAY,IAAZ,EAAkBN,QAAQ,CAACQ,IAAT,CAAcC,EAAhC;AAED;AACF,KApBH;AAqBD,GAxBD;AAyBD,CA3BD;;AA6BA,eAAepB,SAAf","sourcesContent":["import { fetchRequest, fetchFailure, fetchSuccess } from 'reduxx/Register/RegisterActions';\nimport Cookies from 'js-cookie'\n\nconst fetchNews = (data, url) => {\n\n  return (dispatch) => {\n    dispatch(fetchRequest(true));\n\n    fetch(\n      url , {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data),\n      }\n    )\n      .then((response) => response.json())\n      .then((response) => {\n        if (response.status === \"error\") {\n          dispatch(fetchFailure(response.message, false));\n        } else {\n          dispatch(fetchSuccess(response, false));\n          console.log(response);\n          Cookies.set('token', response.jwt);\n          Cookies.set('id', response.user.id);\n\n        }\n      })\n  }\n}\n\nexport default fetchNews;\n"]},"metadata":{},"sourceType":"module"}