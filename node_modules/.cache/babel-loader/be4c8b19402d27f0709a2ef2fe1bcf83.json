{"ast":null,"code":"import { fetchRequest, fetchFailure, fetchSuccess } from 'redux/fetch/fetchActions';\n\nconst fetchNews = data => {\n  return dispatch => {\n    dispatch(fetchRequest(true));\n    fetch(\"http://localhost:1337/auth/local/register\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(response => response.json()).then(response => {\n      if (response.status === \"error\") {\n        dispatch(fetchFailure(response.message, false));\n      } else {\n        dispatch(fetchSuccess(response, false));\n      }\n    });\n  };\n};\n\nexport default fetchNews;","map":{"version":3,"sources":["/Users/julestexier/Google_Drive/PRO/THP_NEXT/Semaine 7 - React avancé (suite)/Jour 2 - Projet Réseau social/projet_reseau copie/src/components/Api/index.jsx"],"names":["fetchRequest","fetchFailure","fetchSuccess","fetchNews","data","dispatch","fetch","method","headers","body","JSON","stringify","then","response","json","status","message"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,YAAvB,EAAqCC,YAArC,QAAyD,0BAAzD;;AAEA,MAAMC,SAAS,GAAIC,IAAD,IAAU;AAE1B,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACL,YAAY,CAAC,IAAD,CAAb,CAAR;AAEAM,IAAAA,KAAK,CACH,2CADG,EAC2C;AAC5CC,MAAAA,MAAM,EAAE,MADoC;AAE5CC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFmC;AAK5CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf;AALsC,KAD3C,CAAL,CASGQ,IATH,CASSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EATtB,EAUGF,IAVH,CAUSC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACE,MAAT,KAAoB,OAAxB,EAAiC;AAC/BV,QAAAA,QAAQ,CAACJ,YAAY,CAACY,QAAQ,CAACG,OAAV,EAAmB,KAAnB,CAAb,CAAR;AACD,OAFD,MAEO;AACLX,QAAAA,QAAQ,CAACH,YAAY,CAACW,QAAD,EAAW,KAAX,CAAb,CAAR;AACD;AACF,KAhBH;AAiBD,GApBD;AAqBD,CAvBD;;AAyBA,eAAeV,SAAf","sourcesContent":["import { fetchRequest, fetchFailure, fetchSuccess } from 'redux/fetch/fetchActions';\n\nconst fetchNews = (data) => {\n\n  return (dispatch) => {\n    dispatch(fetchRequest(true));\n\n    fetch(\n      \"http://localhost:1337/auth/local/register\" , {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data),\n      }\n    )\n      .then((response) => response.json())\n      .then((response) => {\n        if (response.status === \"error\") {\n          dispatch(fetchFailure(response.message, false));\n        } else {\n          dispatch(fetchSuccess(response, false));\n        }\n      })\n  }\n}\n\nexport default fetchNews\n"]},"metadata":{},"sourceType":"module"}